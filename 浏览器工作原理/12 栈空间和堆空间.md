#### 1. js是一门弱类型的动态语言

静态语言：在使用之前就需要确认其变量类型的语言成为静态语言。

动态语言：在运行过程中确定数据类型的语言

弱类型：支持隐式类型转换的语言称为弱类型语言

#### 2. 内存空间

js在执行过程中，主要有三种内存空间。

代码空间，栈空间，堆空间

代码空间：主要用来存储可执行代码

#### 3. 栈空间和堆空间

栈空间：存储执行上下文和切换执行上下文

![img](https://static001.geekbang.org/resource/image/94/fe/9411221e463a86d043a3461d49c9f1fe.png)

![img](https://static001.geekbang.org/resource/image/94/fe/9411221e463a86d043a3461d49c9f1fe.png)

对象类型是存储在堆空间的，在栈空间值是保存了对象的引用地址，当js需要访问该数据的时候，是通过栈的引用地址来访问的。



#### 4.**为什么区分栈和堆，不直接把所有数据放在栈中**

js引擎需要用栈来维护程序运行期间上下文的状态。

如果所有数据都存放在栈中，栈空间过大，会影响切换上下文的效率，进而影响到程序的执行效率。

某个函数执行完成，执行上下文出栈，指针下移，栈顶空间全部回收。这是需要效率的。

所以，一般情况下，栈空间都不会太大，主要用来存放一些原始类型的小数据。引用类型数据占用空间一般比较大，所以存放在堆中。堆空间很大，可以存放很多数据，缺点就是分配内存和回收内存都需要占用一定的时间。

在js中，赋值操作与其他语言不同。原始类型直接完整复制变量值，引用类型赋值则是复制引用地址。

#### 5. 闭包引用的变量存在堆中

内外函数分别为inner,outer

outer执行前进行预编译，发现内部函数inner,进行预扫描，发现inner引用outer内部变量，那么被inner引用的外部变量会存储到堆中。