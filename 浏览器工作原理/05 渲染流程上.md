#### 1.构建dom树

输入：`html`

输出：`DOM`树

浏览器无法直接理解和使用`html`，所以需要将`html`转换为浏览器能够理解的结构---`DOM`树

####2.样式计算

样式计算是为了计算出每个元素的具体样式。

##### 2.1 把`css`转换成浏览器理解的结构

​	`css`样式来源主要有三种：行间，`style`标签，`link`引入

渲染引擎接收到`css`文本后，会执行一个转换操作，把`css`转换成浏览器可以理解的结构---`styleSheets`

##### 2.2 转换样式表中的属性值，使其标准化

`css`中有很多属性值，如`2em`,`blue`这些数值不能被渲染引擎理解，所以需要将所有值转换成渲染引擎容易理解的标准化的计算值。

##### 2.3 计算`DOM`树中每个节点的具体样式

属性已经标准化，接下来就是计算每个节点的样式属性。

这就涉及到`css`中的继承规则和层叠规则。

`css`继承是指每个`dom`节点都包含父节点的样式。

层叠是`css`的一个基本特征，它定义了如何合并来自多个属性源属性值的算法。它在`css`中处于核心地位。`css` === 层叠样式表

#### 3.布局阶段

##### 3.1 创建布局树

在显示之前，创建一棵布局树，布局树只包含可见元素。

##### 3.2 布局计算

计算布局树中节点的坐标位置，会把计算结果写回布局树中，所以布局树既是输入内容1，也是输出内容。这是布局阶段一个不合理之处。