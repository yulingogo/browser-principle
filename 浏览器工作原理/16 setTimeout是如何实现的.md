setTimeout是如何实现的

在浏览器中，除了消息队列，还有一个延迟队列。

setTimeout中的回调任务会存放在延迟队列中，主线程执行完消息队列中的一个任务后，就会去延迟队列，根据发起时间和延迟时间，得到到期任务，然后执行到期任务。执行完到期任务再去执行消息队列中的任务，如此循环。

setTimeout带来的影响

+ 当前任务执行时间过长，会影响延迟到期定时器任务的执行
+ 嵌套定时器最小延迟时间是4ms
+ 未激活的页面，setTimeout执行最小间隔是1000ms（未激活的标签，目的是优化后台页面的加载损耗以及降低耗电量）
+ 延迟时间有最大值。超过最大值相当于设置为0
+ this不明确

